# Установка K3s и вход по ключу

### Шаг 1. Вход по ключу

По заданию нам нужно настроить виртуалки так, чтобы при входе они не запрашивали пароля. Это можно сделать при помощи ssh-ключей. 

SSH-ключ это пара из закрытого и открытого ключа. Сгенерировать их можно командой ``ssh-keygen``, указав имя выходного файла. На unix-системах они сохраняются в директории ``~/.ssh``, если не указывать имя выходного файла он будет сохранён как ``~/.ssh/id_rsa``, а публичный ключ - ``~/.ssh/id_rsa.pub``.

На школьных машинах уже имеются сгенерированные ключи для репозиториев. Используем их и для подключения к нашим виртуалкам. Для этого пропишем в Vagrantfile диективу

```
        id_rsa_pub = File.read("#{Dir.home}/.ssh/id_rsa.pub")
  		config.vm.provision "copy ssh public key", type: "shell",
    inline: "echo \"#{id_rsa_pub}\" >> /home/vagrant/.ssh/authorized_keys"
```

после строк

```
        v.memory = MEM
		v.cpus = CPU
```

Первой строкой мы считываем наш публичный ключ, второй копируем его в виртуальную машину и третьей записываем в конечный файл с ключами.

Теперь мы можем входить по ключу не вспоминая про пароли.

### Шаг 2. Запуск K3s

